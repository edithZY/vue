webpackJsonp([1],{NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},s,!1,function(t){r("gsu9")},null,null).exports,a=r("/ocq"),d=r("mvHQ"),o=r.n(d),l={name:"timeSlider",props:{times:{type:Array,default:[]},width:{type:Number,default:300}},data:function(){return{timesArray:this.times,deliverRows:[1,2,3],deliverTimes:[{value:1,name:"00~01"},{value:2,name:"01~02"},{value:3,name:"02~03"},{value:4,name:"03~04"},{value:5,name:"04~05"},{value:6,name:"05~06"},{value:7,name:"06~07"},{value:8,name:"07~08"},{value:9,name:"08~09"},{value:10,name:"09~10"},{value:11,name:"10~11"},{value:12,name:"11~12"},{value:13,name:"12~13"},{value:14,name:"13~14"},{value:15,name:"14~15"},{value:16,name:"15~16"},{value:17,name:"16~17"},{value:18,name:"17~18"},{value:19,name:"18~19"},{value:20,name:"19~20"},{value:21,name:"20~21"},{value:22,name:"21~22"},{value:23,name:"22~23"},{value:24,name:"23~24"}],numPerRow:8,lengthPerStep:12.5,disabledTextColor:"black",disabledColor:"rgb(228, 231, 237)",disabledVisible:"hidden",enabledColor:"rgb(32, 160, 255)",enabledVisible:"visible",divCursor:"default",canDrag:!1,dragStartIndex:-1,dragCurrentIndex:-1,dragStartRowIndex:-1,dragCurrentRowIndex:-1,startX:0,startY:0,currentX:0,currentY:0}},watch:{times:{handler:function(t,e){this.times=t,this.timesArray=this.times},deep:!0},timesArray:{handler:function(t,e){t!=e&&this.$emit("listenTimesChangeEvent",this.timesArray)},deep:!0}},methods:{clear:function(){this.startX=0,this.startY=0,this.currentX=0,this.currentY=0,this.canDrag=!1,this.dragStartIndex=-1,this.dragCurrentIndex=-1,this.dragStartRowIndex=-1,this.dragCurrentRowIndex=-1,this.divCursor="default"},getButtonVisibility:function(t){this.disabledVisible;return 1==t?this.enabledVisible:this.timesArray.indexOf(t)>-1?this.timesArray.indexOf(t-1)>-1?this.disabledVisible:this.enabledVisible:this.timesArray.indexOf(t-1)>-1?this.enabledVisible:this.disabledVisible},getTextColor:function(t){return this.timesArray.indexOf(t)>-1?this.enabledColor:this.disabledTextColor},getTextTop:function(t){return 1/3*100*parseInt(t/this.numPerRow)},getTextStop:function(t){return(t%this.numPerRow+1)*this.lengthPerStep},getBarColor:function(t){return this.timesArray.indexOf(t)>-1?this.enabledColor:this.disabledColor},getButtonTop:function(t){return 1/3*100*parseInt(t/this.numPerRow)+this.lengthPerStep},getButtonLeft:function(t){return t%this.numPerRow*this.lengthPerStep},startTextStyle:function(t,e){return"left:"+this.getButtonLeft(t)+"%;top:"+this.getTextTop(t)+"%;color:"+this.getTextColor(e)},stopTextStyle:function(t,e){return"left:"+this.getTextStop(t)+"%;top:"+this.getTextTop(t)+"%;color:"+this.getTextColor(e)},barStyle:function(t,e){var r=this.getBarColor(e);return this.canDrag&&"grab","backgroundColor:"+r+";cursor:"+r+";"},divCursorStyle:function(){return"cursor:"+this.divCursor+";width:"+this.width+"px;height: 150px;position: absolute;"},buttonStyle:function(t,e){return"left:"+this.getButtonLeft(t)+"%;top:"+this.getButtonTop(t)+"%;visibility:"+this.getButtonVisibility(e)},handleTimeClick:function(t,e){this.setTimesArray();for(var r=!0,i=0;i<this.timesArray.length;i++)if(this.timesArray[i]==e){r=!1,this.timesArray.splice(i,1);break}r&&this.timesArray.push(e)},handleMouseStart:function(t){this.clear(),this.canDrag=!0,this.startX=t.clientX,this.startY=t.clientY,this.divCursor="grab",this.dragStartIndex=Number(t.srcElement.id.split("_")[4])-1,this.addTimeButtonEventListener(this.dragStartIndex)},handleMouseStop:function(t){this.clear(),this.setTimesArray()},handleDivMouseStart:function(t){},addTimeButtonEventListener:function(t){this.$refs.div_time_slider_button[t].addEventListener("mousemove",this.handleMouseMove),this.$refs.div_time_slider_button[t].addEventListener("mouseup",this.handleMouseStop),this.$refs.div_time_slider_button[t].addEventListener("contextmenu",this.handleMouseStop)},removeTimeButtonEventListener:function(t){this.$refs.div_time_slider_button[t].removeEventListener("mouseup",this.handleMouseStop),this.$refs.div_time_slider_button[t].removeEventListener("contextmenu",this.handleMouseStop)},setTimesArray:function(){this.canDrag=!1,this.timesArray=[];for(var t=0;t<24;t++)this.$refs.div_time_slider_bar[t].style.backgroundColor!=this.disabledColor&&this.timesArray.push(t+1)},handleDivMouseMove:function(t){if(this.canDrag){this.currentX=t.clientX,this.currentY=t.clientY,this.dragStartRowIndex=24==this.dragStartIndex?2:Math.floor(this.dragStartIndex/this.numPerRow),this.dragCurrentRowIndex=this.dragStartRowIndex+Math.round((this.currentY-this.startY)/50);var e=Math.round((this.currentX-this.startX)/this.sliderDevWidth*100/this.lengthPerStep);this.dragCurrentIndex=this.dragStartIndex+e,this.dragCurrentRowIndex!=this.dragStartRowIndex&&(this.dragCurrentIndex=this.dragStartIndex+e+8*(this.dragCurrentRowIndex-this.dragStartRowIndex)),this.dragCurrentIndex==this.dragStartIndex||1!=Math.abs(this.dragCurrentIndex-this.dragStartIndex)||this.dragCurrentRowIndex!=this.dragStartRowIndex&&1!=Math.abs(this.dragCurrentRowIndex-this.dragStartRowIndex)||(this.dragCurrentIndex>this.dragStartIndex?this.dragMoveRight():this.dragCurrentIndex<this.dragStartIndex&&this.dragMoveLeft())}},dragMoveRight:function(){var t=this.$refs.div_time_slider_bar[this.dragStartIndex].style.backgroundColor!=this.enabledColor?this.enabledColor:this.disabledColor,e=this.$refs.div_time_slider_bar[this.dragStartIndex].style.backgroundColor!=this.enabledColor?this.enabledColor:this.disabledTextColor;this.setBarBgColor(this.dragStartIndex,t,e),0!=this.dragStartIndex&&this.setButtonStyle(this.dragStartIndex,this.disabledVisible);for(var r=this.dragCurrentIndex,i=this.dragCurrentIndex+1;i<(this.dragStartRowIndex+1)*this.numPerRow+1;i++){if(this.$refs.div_time_slider_bar[i-1].style.backgroundColor!=t)break;this.dragCurrentIndex=i}if(r!=this.dragCurrentIndex){this.canDrag=!1;for(var s=r;s<this.dragCurrentIndex;s++)this.setButtonStyle(s,this.disabledVisible)}this.dragCurrentIndex%this.numPerRow==0&&24!=this.dragCurrentIndex&&this.$refs.div_time_slider_bar[this.dragCurrentIndex].style.backgroundColor==t?this.setButtonStyle(this.dragCurrentIndex,this.disabledVisible):this.setButtonStyle(this.dragCurrentIndex,this.enabledVisible),this.updateStartIndex()},dragMoveLeft:function(){var t=this.$refs.div_time_slider_bar[this.dragStartIndex-1].style.backgroundColor==this.enabledColor?this.disabledColor:this.enabledColor,e=this.$refs.div_time_slider_bar[this.dragStartIndex-1].style.backgroundColor==this.enabledColor?this.disabledTextColor:this.enabledColor;this.setBarBgColor(this.dragCurrentIndex,t,e),24!=this.dragStartIndex&&this.setButtonStyle(this.dragStartIndex,this.disabledVisible);for(var r=this.dragCurrentIndex,i=this.dragCurrentIndex-1;i>this.dragStartRowIndex*this.numPerRow-1;i--){if(this.$refs.div_time_slider_bar[i].style.backgroundColor!=t)break;this.dragCurrentIndex--}if(r!=this.dragCurrentIndex){this.canDrag=!1;for(var s=r;s>this.dragCurrentIndex;s--)this.setButtonStyle(s,this.disabledVisible)}this.dragCurrentIndex%this.numPerRow==0&&0!=this.dragCurrentIndex&&this.$refs.div_time_slider_bar[this.dragCurrentIndex-1].style.backgroundColor==t?this.setButtonStyle(this.dragCurrentIndex,this.disabledVisible):this.setButtonStyle(this.dragCurrentIndex,this.enabledVisible),this.updateStartIndex()},setButtonStyle:function(t,e){if(t>=0&&t<24){var r=this.getButtonLeft(t),i=this.getButtonTop(t);0==t&&(e=this.enabledVisible),this.$refs.div_time_slider_button[t].style="left:"+r+"%;top:"+i+"%;visibility:"+e}},setBarBgColor:function(t,e,r){if(t>=0&&t<24&&(this.$refs.div_time_slider_bar[t].style.backgroundColor=e,this.$refs.div_time_text_stop[t].style.color=r,t%this.numPerRow==0)){var i=parseInt(t/this.numPerRow);this.$refs.div_time_text_start[i].style.color=r}},updateStartIndex:function(){this.dragStartIndex=this.dragCurrentIndex,24==this.dragStartIndex?(this.startX=this.lastSliderButtonLeft,this.startY=this.lastSliderButtonTop):(this.startX=this.$refs.div_time_slider_bar[this.dragStartIndex].getBoundingClientRect().left,this.startY=this.$refs.div_time_slider_bar[this.dragStartIndex].getBoundingClientRect().top)}},computed:{sliderDevWidth:function(){return this.$refs.time_slider_dev.clientWidth},lastSliderButtonLeft:function(){return this.$refs.div_time_slider_button[24].getBoundingClientRect().left},lastSliderButtonTop:function(){return this.$refs.div_time_slider_button[24].getBoundingClientRect().top}},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{ondragstart:"return false;",oncontextmenu:"return false;"},on:{mouseup:t.handleMouseStop,mousedown:t.handleDivMouseStart,mousemove:t.handleDivMouseMove}},[r("table",{ref:"time_slider_dev",style:t.divCursorStyle(),attrs:{id:"time_slider_dev"}},t._l(t.deliverRows,function(e){return r("tr",{ref:"tr_time_slider_bar",refInFor:!0,staticStyle:{border:"1px solid black",height:"50px"}},t._l(t.deliverTimes,function(i,s){return s>=(e-1)*t.numPerRow&&s<e*t.numPerRow?r("td",{ref:"td_time_slider_bar",refInFor:!0},[s%t.numPerRow==0?r("div",{ref:"div_time_text_start",refInFor:!0,staticClass:"time_slider_text",style:t.startTextStyle(s,i.value),attrs:{id:"div_time_text_start_"+i.value}},[r("span",{style:t.startTextStyle(s,i.value)},[t._v(t._s(i.value-1))])]):t._e(),t._v(" "),r("div",{ref:"div_time_slider_button",refInFor:!0,staticClass:"time_slider_button_start",style:t.buttonStyle(s,i.value),attrs:{id:"div_time_slider_button_"+i.value},on:{mousedown:t.handleMouseStart}}),t._v(" "),r("div",{ref:"div_time_slider_bar",refInFor:!0,staticClass:"time_slider_bar",style:t.barStyle(s,i.value),attrs:{id:"div_time_slider_bar_"+i.value},on:{click:function(e){return t.handleTimeClick(s,i.value)}}}),t._v(" "),r("div",{ref:"div_time_text_stop",refInFor:!0,staticClass:"time_slider_text",style:t.stopTextStyle(s,i.value),attrs:{id:"div_time_text_stop_"+i.value}},[r("span",{style:t.stopTextStyle(s,i.value)},[t._v(t._s(i.value))])]),t._v(" "),24==i.value?r("div",{ref:"div_time_slider_button",refInFor:!0,staticClass:"time_slider_button_start",staticStyle:{left:"100%",top:"79.16%"},attrs:{id:"div_time_slider_button_25"},on:{mousedown:t.handleMouseStart}}):t._e()]):t._e()}),0)}),0)])},staticRenderFns:[]};var h={components:{vueTimeSlider:r("VU/8")(l,u,!1,function(t){r("lQ8v")},null,null).exports},data:function(){return{times:[],width:300}},methods:{bindTimesChangeEvent:function(t){this.times=t,console.log(o()(t))}},mounted:function(){}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"0 auto",width:"50%"}},[r("h3",{staticStyle:{color:"#20A0FF"}},[t._v("VUE——时间滑块选择控件")]),t._v(" "),r("hr"),t._v(" "),r("div",{staticStyle:{margin:"0 auto","padding-top":"40px",width:"300px",height:"180px"}},[r("vue-time-slider",{attrs:{width:t.width,times:t.times},on:{listenTimesChangeEvent:t.bindTimesChangeEvent}})],1),t._v(" "),r("hr"),t._v(" "),r("div",[t._v("所选时间："+t._s(this.times))])])},staticRenderFns:[]},m=r("VU/8")(h,v,!1,null,null,null).exports;i.a.use(a.a);var _=new a.a({routes:[{path:"/",name:"HelloWorld",component:m}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:_,components:{App:n},template:"<App/>"})},gsu9:function(t,e){},lQ8v:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2019d749b16b0d8c5472.js.map